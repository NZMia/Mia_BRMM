{% extends "layout/driverLayout.html" %}
{% block title %}Overall Results{% endblock %}
{% block content %}
{{ super() }}
<div class="row px-5 my-3 d-flex justify-content-center table-responsive-md">
  <h3 class='text-success-emphasis'>Overall Results</h2>
  <h6 class='text-danger text-end'>
    Empty Age means the driver is not junior.
  </h6>
  <table class="table table-hover table-bordered m-3">
    <thead>
      <tr>
        <th class='text-success-emphasis'>Driver ID</th>
        <th class='text-success-emphasis'>Driver Name</th>
        <th class='text-success-emphasis'>Driver Age</th>
        <th class='text-success-emphasis'>Car Model</th>
        <th class='text-success-emphasis'>Result</th>
        <th class='text-success-emphasis'>Each Course Time</th>
      </tr>
    </thead>
    <tbody class="table-group-divider ">
      {% for item in rank_list %}
        <tr class='{% if item[0][2] is not none and 12 <= item[0][2] <= 25  %}table-warning{% endif %}'>
          <td class='text-success-emphasis'>{{ item[0][0] }}</td>
          <td class='text-success-emphasis'>{{ item[0][1] }}</td>
          <td class='text-success-emphasis'>
            {% if item[0][2] %}
              {{ item[0][2] }}
            {% endif %}
          </td>
          <td class='text-success-emphasis'>{{ item[0][3] }}</td>
          <td class='text-success-emphasis'>
            {{ item[1]['overall_results']}}
            {% if loop.index == 1 %}
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#dc3545" class="bi bi-trophy-fill" viewBox="0 0 16 16">
                <path d="M2.5.5A.5.5 0 0 1 3 0h10a.5.5 0 0 1 .5.5c0 .538-.012 1.05-.034 1.536a3 3 0 1 1-1.133 5.89c-.79 1.865-1.878 2.777-2.833 3.011v2.173l1.425.356c.194.048.377.135.537.255L13.3 15.1a.5.5 0 0 1-.3.9H3a.5.5 0 0 1-.3-.9l1.838-1.379c.16-.12.343-.207.537-.255L6.5 13.11v-2.173c-.955-.234-2.043-1.146-2.833-3.012a3 3 0 1 1-1.132-5.89A33.076 33.076 0 0 1 2.5.5zm.099 2.54a2 2 0 0 0 .72 3.935c-.333-1.05-.588-2.346-.72-3.935zm10.083 3.935a2 2 0 0 0 .72-3.935c-.133 1.59-.388 2.885-.72 3.935z"/>
              </svg>
            {% elif loop.index <= 5 %}
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#dc3545" class="bi bi-award" viewBox="0 0 16 16">
                <path d="M9.669.864 8 0 6.331.864l-1.858.282-.842 1.68-1.337 1.32L2.6 6l-.306 1.854 1.337 1.32.842 1.68 1.858.282L8 12l1.669-.864 1.858-.282.842-1.68 1.337-1.32L13.4 6l.306-1.854-1.337-1.32-.842-1.68L9.669.864zm1.196 1.193.684 1.365 1.086 1.072L12.387 6l.248 1.506-1.086 1.072-.684 1.365-1.51.229L8 10.874l-1.355-.702-1.51-.229-.684-1.365-1.086-1.072L3.614 6l-.25-1.506 1.087-1.072.684-1.365 1.51-.229L8 1.126l1.356.702 1.509.229z"/>
                <path d="M4 11.794V16l4-1 4 1v-4.206l-2.018.306L8 13.126 6.018 12.1 4 11.794z"/>
              </svg>
            {% endif %}
          </td>
          <td>
            <table class='table table-hover table-bordered'>
              <thead class='table-success'>
                <tr>
                  <th class='text-success-emphasis'>Course</th>
                  <th class='text-success-emphasis'>Course Time</th>
                </tr>
              </thead>
              <tbody class='table-group-divider'>
                {% for key, value in item[1].items() %}
                  {% if key != 'overall_results' %}
                    <tr>
                      <td class='text-success-emphasis align-middle'>{{ key }}</td>
                      <td class='text-success-emphasis align-middle'>{{ value }}</td>
                    </tr>
                  {% endif %}
                {% endfor %}
              </tbody>
            </table>
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>

  <h6 class='text-danger text-end'>
    ‘NQ’ (Not Qualified).
    <span>
      A driver with ‘dnf’ for any course is not qualified to win overall.
    </span>
  </h6>

  <h6 class='text-danger text-end'>
    ‘dnf’ (did not finish)
    <span>A driver with ‘dnf’ for misses
      both runs </span>
  </h6>
  
</div>
{% endblock %}

